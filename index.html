<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Responsive Clock with Alarm</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      transition: background-color 0.5s ease, color 0.5s ease;
      text-align: center;
    }

    .clock {
      font-size: 8vw;
      margin-bottom: 10px;
    }

    .date {
      font-size: 4vw;
      margin-bottom: 5px;
    }

    .greeting {
      font-size: 5vw;
      font-weight: bold;
      margin-bottom: 20px;
    }

    .alarm-section {
      font-size: 3.5vw;
      margin-top: 20px;
    }

    select, button {
      padding: 8px 12px;
      font-size: 3vw;
      margin: 5px;
    }

    .day {
      background-color: #f0f0f0;
      color: #222;
    }

    .night {
      background-color: #111;
      color: #0f0;
    }

    @media (min-width: 600px) {
      .clock {
        font-size: 70px;
      }
      .date {
        font-size: 24px;
      }
      .greeting {
        font-size: 28px;
      }
      .alarm-section {
        font-size: 18px;
      }
      select, button {
        font-size: 16px;
      }
    }
  </style>
</head>
<body>
  <div class="clock" id="clock">--:--:--</div>
  <div class="date" id="date">Loading date...</div>
  <div class="greeting" id="greeting">Loading greeting...</div>

  <div class="alarm-section">
    <label for="alarmHour">Hour:</label>
    <select id="alarmHour"></select>
    <label for="alarmMinute">Minute:</label>
    <select id="alarmMinute"></select>
    <label for="alarmPeriod">AM/PM:</label>
    <select id="alarmPeriod">
      <option>AM</option>
      <option>PM</option>
    </select>
    <button id="setAlarmBtn">Set Alarm</button>
    <button id="clearAlarmBtn">Clear Alarm</button>
    <div id="alarmStatus" style="margin-top: 10px; font-weight: bold;"></div>
  </div>

  <audio id="alarmSound" src="https://www.soundjay.com/button/beep-07.wav" preload="auto"></audio>

  <script>
    const clockEl = document.getElementById('clock');
    const dateEl = document.getElementById('date');
    const greetingEl = document.getElementById('greeting');
    const alarmHour = document.getElementById('alarmHour');
    const alarmMinute = document.getElementById('alarmMinute');
    const alarmPeriod = document.getElementById('alarmPeriod');
    const alarmStatus = document.getElementById('alarmStatus');
    const alarmSound = document.getElementById('alarmSound');
    const setAlarmBtn = document.getElementById('setAlarmBtn');
    const clearAlarmBtn = document.getElementById('clearAlarmBtn');

    let alarmTime = null;

    // Populate hours (1 to 12)
    for(let i = 1; i <= 12; i++){
      const option = document.createElement('option');
      option.value = i;
      option.textContent = i.toString().padStart(2, '0');
      alarmHour.appendChild(option);
    }

    // Populate minutes (0 to 59)
    for(let i = 0; i < 60; i++){
      const option = document.createElement('option');
      option.value = i;
      option.textContent = i.toString().padStart(2, '0');
      alarmMinute.appendChild(option);
    }

    function updateClock() {
      const now = new Date();
      let hours = now.getHours();
      let minutes = now.getMinutes();
      let seconds = now.getSeconds();

      // AM/PM calculation
      const isPM = hours >= 12;
      const displayHours = hours % 12 === 0 ? 12 : hours % 12;
      const ampm = isPM ? 'PM' : 'AM';

      // Format time string
      const timeStr = `${displayHours.toString().padStart(2,'0')}:${minutes.toString().padStart(2,'0')}:${seconds.toString().padStart(2,'0')} ${ampm}`;
      clockEl.textContent = timeStr;

      // Date
      const options = { year: 'numeric', month: 'long', day: 'numeric' };
      dateEl.textContent = now.toLocaleDateString(undefined, options);

      // Greeting
      let greeting = '';
      if(hours >= 5 && hours < 12) greeting = 'Good Morning!';
      else if(hours >= 12 && hours < 17) greeting = 'Good Afternoon!';
      else if(hours >= 17 && hours < 21) greeting = 'Good Evening!';
      else greeting = 'Good Night!';
      greetingEl.textContent = greeting;

      // Day/Night theme
      if(hours >= 6 && hours < 18){
        document.body.classList.add('day');
        document.body.classList.remove('night');
      } else {
        document.body.classList.add('night');
        document.body.classList.remove('day');
      }

      // Check Alarm
      if(alarmTime === `${displayHours.toString().padStart(2,'0')}:${minutes.toString().padStart(2,'0')} ${ampm}` && seconds === 0){
        alarmSound.play();
        alert('⏰ Alarm ringing!');
        clearAlarm();
      }
    }

    function setAlarm(){
      const hour = alarmHour.value;
      const minute = alarmMinute.value.padStart(2, '0');
      const period = alarmPeriod.value;
      alarmTime = `${hour.padStart(2,'0')}:${minute} ${period}`;
      alarmStatus.textContent = `Alarm set for ${alarmTime}`;
    }

    function clearAlarm(){
      alarmTime = null;
      alarmStatus.textContent = 'Alarm cleared';
    }

    setAlarmBtn.addEventListener('click', setAlarm);
    clearAlarmBtn.addEventListener('click', clearAlarm);

    setInterval(updateClock, 1000);
    updateClock();
  </script>
</body>
</html>
